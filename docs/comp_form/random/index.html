<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><!-- jquery--><script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script><!-- bootstrap--><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script><link rel="stylesheet" href="/vendor/bootstrap/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous"><script src="/vendor/bootstrap/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script><!-- font awesome--><link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css"><!-- syntax hilighting--><link rel="stylesheet" href="/vendor/highlightjs/css/atom-one-dark.css"><!-- styles--><link rel="stylesheet" href="/src/styles.css"><!--scripts--><script src="/src/bundle.js"></script><title>Random Values | Comp Form</title></head><body class="comp-form"><a href="/comp_form/"><div id="logo"><svg width="20px" height="18px" viewbox="0 0 20 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop" transform="translate(-18.000000, -16.000000)" fill="#000000"><g id="Compform-Logo" transform="translate(18.000000, 16.000000)"><polygon id="Triangle-Copy-4" points="15 9 20 18 10 18"></polygon><polygon id="Triangle-Copy-5" points="5 9 10 18 0 18"></polygon><polygon id="Triangle-Copy-6" points="10 0 15 9 5 9"></polygon></g></g></g></svg></div></a><header class="container" id="top-nav"><div class="row justify-content-md-center"><div class="col-md-8"><span class="title">Random Values</span><div class="buttons"><a class="previous" href="../introduction"><i class="fa fa-caret-left fa-lg"></i>Introduction</a><a class="next" href="../parameters">Parameters<i class="fa fa-caret-right fa-lg"></i></a></div></div></div></header><div id="content"><div class="container" id="hero"><div class="row justify-content-md-center"><div class="col-md-8"><h1>Random Values</h1><h6>Overview</h6><p class="description">Procedural Generation systems often employ random values their main source of variety. Understanding how to generate, bias, and map random values is key to controlling the aesthetics of their output.</p><h6>Tools</h6><p class="software">p5.js + p5.dom</p></div></div></div><div class="container" id="copy"><div class="row justify-content-md-center"><div class="col-md-8 comp-form-copy"><h2 id="random-values">Random Values</h2>
<p>We use the word <em>random</em> to mean a variety of related ideas. Depending on context we might mean unplanned, unexpected, unpatterned, uncontrolled, or unpredictable. Random values are a staple of procedural generation systems, often used as the main source of variety.</p>
<p>Artists began working with randomness and chance long before the invention of computers. These artists must decide how much control of the final piece to maintain, and what aspects of each piece to leave to chance.</p>
<p>The long-titled, 18th century composition <em>Instructions for the composition of as many waltzes as one desires with two dice, without understanding anything about music or composition</em>, <a href="https://en.wikipedia.org/wiki/Musikalisches_W%C3%BCrfelspiel">which may have been written</a> by Mozart uses chance to select and sequence pre-composed musical phrases. By placing rules on selection and ordering of the phrases, the system ensures that each variation makes musical sense.</p>
<p>Consider the works below:</p>
<ul>
<li>Which aspects of each work were influenced by chance?</li>
<li>Which aspects were controlled by the artist?</li>
</ul>
<div id="" class="!short slides-wrap slideInfos">
<div id="carousel-271" class="carousel slide" data-ride="carousel">
<div class="carousel-inner slides" role="listbox">
<div class="carousel-item active">
<div class="slide">
<div class="slide-image">
<img class="d-block" src="./slides/arp.jpg" alt="Collage with Squares Arranged According to the Laws of Chance — 1917">
</div>
<div class="slide-info">
<div class="slide-info-middle">
<div class="artist">Jean Arp</div>
<div class="title">Collage with Squares Arranged According to the Laws of Chance — 1917</div>
<div class="comments"></div>
</div>
<div class="slide-info-bottom">
</div>
</div>
</div>
</div>
<div class="carousel-item ">
<div class="slide">
<div class="slide-image">
<img class="d-block" src="https://www.moma.org/media/W1siZiIsIjEzODY0NSJdLFsicCIsImNvbnZlcnQiLCItcmVzaXplIDIwMDB4MjAwMFx1MDAzZSJdXQ.jpg?sha=21b081fc5058286d" alt="3 Standard Stoppages — 1913">
</div>
<div class="slide-info">
<div class="slide-info-middle">
<div class="artist">Marcel Duchamp</div>
<div class="title">3 Standard Stoppages — 1913</div>
<div class="comments"></div>
</div>
<div class="slide-info-bottom">
<a href="https://www.moma.org/collection/works/78990">Moma: 3 Standard Stoppages</a>
</div>
</div>
</div>
</div>
<div class="carousel-item ">
<div class="slide">
<div class="slide-image">
<img class="d-block" src="https://upload.wikimedia.org/wikipedia/commons/1/17/Rogue_Screen_Shot_CAR.PNG" alt="Rouge - 1980">
</div>
<div class="slide-info">
<div class="slide-info-middle">
<div class="artist">Micheal Toy and Glenn Wichman</div>
<div class="title">Rouge - 1980</div>
<div class="comments"><i>Rouge</i> was an genre-inspiring fantasy game with procedurally generated dungeons.</div>
</div>
<div class="slide-info-bottom">
<a href="https://en.wikipedia.org/wiki/Rogue_(video_game)">Wikipedia: Rogue</a><a href="https://en.wikipedia.org/wiki/Roguelike">Wikipedia: Roguelike</a>
</div>
</div>
</div>
</div>
<div class="carousel-item ">
<div class="slide">
<div class="slide-image">
<img class="d-block" src="./slides/presstube.png" alt="Page 0 (Detail) — 2004">
</div>
<div class="slide-info">
<div class="slide-info-middle">
<div class="artist">James Paterson (Presstube)</div>
<div class="title">Page 0 (Detail) — 2004</div>
<div class="comments"></div>
</div>
<div class="slide-info-bottom">
<a href="http://presstube.com/project.php?id=217">Page 0</a><a href="http://presstube.com/projects.php?pt_pp=18&&pp=all">Presstube Old Site</a>
</div>
</div>
</div>
</div>
<div class="carousel-item ">
<div class="slide">
<div class="slide-image">
<img class="d-block" src="./slides/praystation_1.jpg" alt="Misc, 1">
</div>
<div class="slide-info">
<div class="slide-info-middle">
<div class="artist">Joshua Davis (Praystation)</div>
<div class="title">Misc, 1</div>
<div class="comments"></div>
</div>
<div class="slide-info-bottom">
<a href="https://joshuadavis.com/">Artist's Site</a>
</div>
</div>
</div>
</div>
</div>
<div class="slide-info-top">
<a class="carousel-control-prev" href="#carousel-271" role="button" data-slide="prev">
<span class="carousel-prev-icon">
<svg width="15px" height="18px" viewBox="0 0 15 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs></defs>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<polygon id="Page-1-Copy" fill="#3B7CF4" transform="translate(7.500000, 8.659834) rotate(-180.000000) translate(-7.500000, -8.659834) " points="0 17.3196679 15 8.65334717 0 5.68434189e-14"></polygon>
</g>
</svg>
</span>
<span class="sr-only">Previous</span>
</a>
<a class="carousel-control-next" href="#carousel-271" role="button" data-slide="next">
<span class="carousel-next-icon-tc">
<svg width="15px" height="18px" viewBox="0 0 15 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<defs></defs>
<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
<polygon fill="#3B7CF4" points="0 17.3196679 15 8.65334717 0 5.68434189e-14"></polygon>
</g>
</svg>
</span>
<span class="sr-only">Next</span>
</a>
</div>
</div>
</div>
<h2 id="the-methodical-application-of-chance">The Methodical Application of Chance</h2>
<p>Using random values in your procedural system doesn’t mean your results must be haphazard, uncontrolled, or unorganized. While individual random values are unpredictable, you can use these values to create a coherent cumulative effect.</p>
<div id="" class="activity">
<h2 id="2d6-vs-1d12-chart">2d6 vs 1d12 Chart</h2>
<p>Compare the outcomes of rolling 2 6-sided dice to rolling 1 12-sided die.</p>
<h3 id="chart-one">Chart One</h3>
<p class="bigger">Roll two six-sided dice 50 times.<br/>
Plot the sums.</p>
<h3 id="chart-two">Chart Two</h3>
<p class="bigger">Roll a twelve-sided dice 50 times.<br/>
Plot the values.</p>
<p>[[ link to worksheet ]]</p>
</div>
<h3 id="generating-random-numbers">Generating Random Numbers</h3>
<p>Plain Javascript provides <code>Math.random()</code> to generate a random number.</p>
<div id="" class="links-sidebar">
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random">MDN<br/><code>Math.random()</code></a></p>
</div>
<blockquote>
<p>The Math.random() function returns a floating-point, pseudo-random number in the range [0, 1); that is, from 0 (inclusive) up to but not including 1 (exclusive), which you can then scale to your desired range. The implementation selects the initial seed to the random number generation algorithm; it cannot be chosen or reset by the user.</p>
</blockquote>
<p class="attrib">MDN</p>
<h3 id="specifying-a-range">Specifying a Range</h3>
<p><code>Math.random()</code> always gives you a value between 0 and 1. If you want a different range, you can scale and offset the value yourself:</p>
<pre><code class="language-javascript">random() * range + start

<span class="hljs-comment">// even distribution between [10 and 15)</span>
random() * <span class="hljs-number">5</span> + <span class="hljs-number">10</span> 
</code></pre>
<h3 id="random-integers">Random Integers</h3>
<p>The <code>Math.random()</code> function returns floating point values, but sometimes you want <em>integers</em>. The <code>Math.floor()</code> function will round a number down, chopping off the decimal part.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// roll a standard die</span>
<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">6</span>) + <span class="hljs-number">1</span>;
</code></pre>
<p>Be careful when generating integers, it is easy to get results that are slightly off. <code>Math.floor()</code> rounds down to the nearest integer, so you need to have values that go <em>above</em> the highest integer you want returned.</p>
<p>Also, using <code>Math.round()</code> instead of <code>Math.floor()</code> can make lead to unevenly distributed results. Using <code>round()</code> instead of <code>floor()</code> in the example below causes incorrect results: <code>1</code> will get picked half as often as it should, and <code>7</code> will sometimes get picked and should not.</p>
<div id="" class="bad">
<pre><code class="language-javascript"><span class="hljs-comment">// roll a standard die</span>
<span class="hljs-comment">// this won't quite work. why?</span>
<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">7</span>);

<span class="hljs-comment">// this also doesn't quite work. why?</span>
<span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">6</span>)+<span class="hljs-number">1</span>;
</code></pre>
</div>
<h3 id="p5-random">p5 <code>random()</code></h3>
<p>Processing provides the <code>random()</code> function for generating random numbers. Without any parameters, <code>random()</code> works very much like <code>Math.random()</code> producing numbers between [0 and 1).</p>
<pre><code class="language-javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-string">"random()"</span>);        <span class="hljs-comment">// random()</span>
<span class="hljs-built_in">console</span>.log(random());          <span class="hljs-comment">// 0.45...</span>
<span class="hljs-built_in">console</span>.log(random());          <span class="hljs-comment">// 0.12...</span>
<span class="hljs-built_in">console</span>.log(random());          <span class="hljs-comment">// 0.37...</span>
</code></pre>
<p>P5’s <code>random()</code> function also accepts optional parameters to control the range of the number, so you don’t have to do it yourself.</p>
<pre><code>console.log(&quot;random(10)&quot;);      // random(10) -&gt; range [0, 10)
console.log(random(10));        // 4.89...
console.log(random(10));        // 1.20...
console.log(random(10));        // 6.99...

console.log(&quot;random(20, 30)&quot;);  // random(20, 30) -&gt; range [20, 30)
console.log(random(20, 30));    // 21.96...
console.log(random(20, 30));    // 20.56...
console.log(random(20, 30));    // 22.36...
</code></pre>
<p>P5 provides <code>floor()</code> which you can use to generate random integers.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// roll a standard die</span>
floor(random(<span class="hljs-number">0</span>,<span class="hljs-number">6</span>)) + <span class="hljs-number">1</span>
<span class="hljs-comment">// or</span>
floor(random(<span class="hljs-number">1</span>,<span class="hljs-number">7</span>))
</code></pre>
<div id="" class="bad">
<pre><code class="language-javascript"><span class="hljs-comment">// this won't quite work. why?</span>
floor(random(<span class="hljs-number">1</span>,<span class="hljs-number">6</span>))
</code></pre>
</div>
<h3 id="biased-distribution">Biased Distribution</h3>
<p>The examples above will produce results evenly distributed across their range.</p>
<p>Often even distribution isn’t what you really want. Often you want to <strong>bias</strong> the results towards the low-end, high-end, or middle. Simple averaging and the <code>min()</code> and <code>max()</code> functions can help with this.</p>
<h4 id="even-distribution">Even Distribution</h4>
<pre><code class="language-javascript">random(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>)
</code></pre>
<p></p>
<div id="" class="callout">
<p class="scale"><img src="./figures/even_bias.svg" alt="even distribution"></p>
</div>
<h4 id="low-bias-distribution">Low Bias Distribution</h4>
<p>Taking the lowest of two or more random numbers will bias the result toward the low-end.</p>
<pre><code class="language-javascript">min(random(<span class="hljs-number">10</span>), random(<span class="hljs-number">10</span>))
</code></pre>
<p></p>
<div id="" class="callout">
<p class="scale"><img src="./figures/low_bias.svg" alt="even distribution"></p>
</div>
<p>The more random numbers you use, the stronger the bias.</p>
<pre><code class="language-javascript">min(random(<span class="hljs-number">10</span>), random(<span class="hljs-number">10</span>), random(<span class="hljs-number">10</span>), random(<span class="hljs-number">10</span>))
</code></pre>
<p></p>
<div id="" class="callout">
<p class="scale"><img src="./figures/low_bias2.svg" alt="even distribution"></p>
</div>
<h4 id="high-bias-distribution">High Bias Distribution</h4>
<p>Taking the highest of two or more random numbers will bias the result toward the high-end.</p>
<pre><code class="language-javascript">max(random(<span class="hljs-number">10</span>), random(<span class="hljs-number">10</span>))
</code></pre>
<p></p>
<div id="" class="callout">
<p class="scale"><img src="./figures/high_bias.svg" alt="even distribution"></p>
</div>
<h4 id="middle-bias-distribution">Middle Bias Distribution</h4>
<p>Averaging two or more random numbers will bias the resulttoward the middle.</p>
<pre><code class="language-javascript">(random(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>) + random(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>)) / <span class="hljs-number">2</span>
</code></pre>
<p></p>
<div id="" class="callout">
<p class="scale"><img src="./figures/middle_bias.svg" alt="even distribution"></p>
</div>
<h4 id="normal-distribution">Normal Distribution</h4>
<div id="" class="links-sidebar">
<p><a href="https://en.wikipedia.org/wiki/Normal_distribution">Wikipedia:<br/> Normal Distribution</a></p>
</div>
<p>If you generate several random numbers and average them, the result gets close to <strong>normal distribution</strong>. Normal distribution, or Gaussian distribution, is the “bell curve” distribution which is often found in natural systems.</p>
<pre><code class="language-javascript">(random(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>) + random(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>) + random(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>)) / <span class="hljs-number">3</span>
</code></pre>
<p></p>
<div id="" class="callout">
<p class="scale"><img src="./figures/normal_bias.svg" alt="even distribution"></p>
</div>
<div id="" class="links-sidebar">
<p><a href="https://p5js.org/reference/#/p5/randomGaussian">P5:<br/> <code>randomGausian()</code></a></p>
</div>
<div id="" class="callout">
<p><strong>Note:</strong> P5 also provides the <code>randomGausian()</code> function for generating numbers with a true normal distribution. With <code>randomGausian()</code> the possible values are not clamped to a range, extreme outliers are just really rare.</p>
</div>
<h4 id="more-info">More Info</h4>
<p><a href="http://anydice.com/">Anydice Dice Calculator</a></p>
<p><a href="http://anydice.com/articles/three-basic-distributions/">Anydice: Three Basic Distributions</a></p>
<p><a href="https://www.redblobgames.com/articles/probability/damage-rolls.html">Redblob: Damage Rolls</a></p>
<h3 id="dice-vs-decks">Dice vs. Decks</h3>
<p>When you roll a <strong>die</strong>, you get <strong>random values</strong>. You <strong>might get the same value more than once</strong>, and it <strong>might take a long time to get a particular value</strong>.</p>
<p>If you roll a normal die six times, it is unlikely—<em>about a 1.5% chance</em>—that you’ll get all six values without repeats. You have a pretty good chance—<em>about 33%</em>–of not rolling any 1s. You can be pretty sure—<em>98.5% sure</em>—that at least one number won’t appear in six rolls.</p>
<p>A <strong>deck of cards</strong> works differently. When you pull cards from deck, you don’t get random values. You get <strong>values in a random order</strong>. You avoid duplicates, and you know you will have toured all the values when you reach the end of the deck.</p>
<h4 id="dice-visualizer">Dice Visualizer</h4>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/dice.js">
</iframe>
</div>
</div>
<h4 id="deck-visualizer">Deck Visualizer</h4>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/cards.js">
</iframe>
</div>
</div>
<h3 id="modeling-a-deck-with-an-array">Modeling a Deck with an Array</h3>
<div id="" class="links-sidebar">
<p><a href="https://p5js.org/reference/#/p5/shuffle">P5:<br/> <code>shuffle()</code></a></p>
</div>
<p>p5 provides the <code>shuffle()</code> function to randomly reorder and array. Using shuffle we can simulate shuffling a deck, pulling values from it, and reshuffling when we run out.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// create an array to hold the possible values</span>
<span class="hljs-keyword">var</span> values = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>];

<span class="hljs-comment">// create a variable to hold the current position in the deck</span>
<span class="hljs-keyword">var</span> position = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setup</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// shuffle the deck first</span>
    values = shuffle(values);

    <span class="hljs-comment">// pull as many values as we need</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++) {
        <span class="hljs-built_in">console</span>.log(valueFromDeck());
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valueFromDeck</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// find the value at the current position in the deck</span>
    <span class="hljs-keyword">var</span> v = values[position];

    <span class="hljs-comment">// change the position for next time</span>
    position++;

    <span class="hljs-comment">// if we run out of "cards", shuffle and start over from the top</span>
    <span class="hljs-keyword">if</span> (position == values.length) {
        values = shuffle(values);
        position = <span class="hljs-number">0</span>;
    }

    <span class="hljs-comment">// return the value</span>
    <span class="hljs-keyword">return</span> v;
}
</code></pre>
<h3 id="random-choices">Random Choices</h3>
<p>If you want your code to make a decision at random, you can combine <code>random()</code> with a conditional—<code>if</code>—statement.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// do something only half the time</span>
<span class="hljs-keyword">if</span> (random() &lt; <span class="hljs-number">.5</span>) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Optional Thing"</span>);
}

<span class="hljs-comment">// do something only 10% of the time</span>
<span class="hljs-keyword">if</span> (random() &lt; <span class="hljs-number">.1</span>) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Rare Thing"</span>);
}

<span class="hljs-comment">// another way to do something only 10% of the time</span>
<span class="hljs-keyword">if</span> (random(<span class="hljs-number">100</span>) &lt; <span class="hljs-number">10</span>) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Rare Thing"</span>);
}
</code></pre>
<p>With <code>else</code> you can pick between two optional things to do.</p>
<pre><code class="language-javascript"><span class="hljs-comment">// do one thing, or the other. even odds.</span>
<span class="hljs-keyword">if</span> (random() &lt; <span class="hljs-number">.5</span>) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Option A"</span>);
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Option B"</span>);
}
</code></pre>
<p>With <code>else if</code> you can pick between multiple optional things to do.</p>
<pre><code class="language-javascript"><span class="hljs-keyword">var</span> r = random(<span class="hljs-number">100</span>);

<span class="hljs-keyword">if</span> (r &lt; <span class="hljs-number">20</span>) {
    <span class="hljs-comment">// r is &lt; 20</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Rare Thing 1 (20%)"</span>);
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (r &lt; <span class="hljs-number">40</span>){
    <span class="hljs-comment">// r is &gt;= 20 and &lt; 40</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Rare Thing 2 (20%)"</span>); 
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// r is &gt;= 40</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Normal Thing (60%)"</span>);
}
</code></pre>
<p>A common mistake when following this pattern is calling random multiple times. If you are making 1 choice between several options, you only want to call <code>random()</code> once.</p>
<p><strong>Remember: 1 choice, 1 <code>random()</code></strong></p>
<div id="" class="bad">
<pre><code class="language-javascript"><span class="hljs-comment">// this code doesn't work as expected</span>
<span class="hljs-keyword">if</span> (random(<span class="hljs-number">100</span>) &lt; <span class="hljs-number">20</span>) {
    <span class="hljs-comment">// Actually a 20% chance</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Rare Thing 1 (20%)"</span>); 
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (random(<span class="hljs-number">100</span>) &lt; <span class="hljs-number">40</span>){
    <span class="hljs-comment">// Actually a 32% chance</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Rare Thing 2 (20%)"</span>);
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Actually a 48% chance</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Normal Thing (60%)"</span>); 
}
</code></pre>
</div>
<div id="" class="activity">
<h2 id="skyline-tactic-match">Skyline Tactic Match</h2>
<p>Study the example city skylines below. Each skyline was made usinga different tactic for picking random values. <br/> Match each skyline to the tactic.</p>
<h3 id="tactics">Tactics</h3>
<p class="bigger">Pure Random, Low Bias, Normal Bias, High Bias, Deck</p>
<h3 id="skylines">Skylines</h3>
<p class="scale"><img src="./figures/city_deck.png" alt="deck.png"></p>
<p class="scale"><img src="./figures/city_low.png" alt="low.png"></p>
<p class="scale"><img src="./figures/city_normal.png" alt="normal.png"></p>
<p class="scale"><img src="./figures/city_unbiased.png" alt="unbiased.png"></p>
<p class="scale"><img src="./figures/city_high.png" alt="high.png"></p>
<h3 id="discuss">Discuss</h3>
<ul>
<li>Which tactic is the “best”?</li>
<li>When would you choose to use different types of bias?</li>
<li>Where is each type of biases found in the world?</li>
</ul>
</div>
<h2 id="pseudo-random-vs-random">Pseudo-random vs. Random</h2>
<p>Computers are deterministic systems. When a computer is in a particular state and performs a specific instruction, the resulting state will always be the same. <strong>The results are never random.</strong></p>
<p>So how can <code>random()</code> produce a random value? Technically, it can’t. It can produce values that <em>appear to be random</em>, called <strong>pseudorandom values</strong>. Pseudorandom values appear random—unless you look very closely—but are created by a deterministic process.</p>
<p>A common method to create pseudorandom values is a <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">Linear Congruential Generator</a>.</p>
<p>LCGs begin with an initial value called the <strong>seed</strong>, then use multipliction, addition, modulus (remainder after division) to derive a new, seemingly random value. Below is a very basic implementation of LCGs so you can see how they work.</p>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/random_lcg.js">
</iframe>
</div>
</div>
<p>For our purposes, it is not really important to understand exactly how the generator works.</p>
<p><strong>It is important to understand that the sequence of <code>random()</code> numbers is perfectly predictable, if you know the seed.</strong></p>
<h3 id="setting-the-random-seed">Setting the Random Seed</h3>
<div id="" class="links-sidebar">
<p><a href="https://p5js.org/reference/#/p5/randomSeed">P5:<br/> <code>randomSeed()</code></a></p>
</div>
<p>P5 provides <code>randomSeed()</code> to set the <strong>seed</strong> used by <code>random()</code>. Once you have set the seed, the sequence of values produced by random will always be the same.</p>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/seed.js">
</iframe>
</div>
</div>
<p>Using the seed, you can use random values in your code, but get the same results each time you run your program. This can be a useful feature in many programs and can help with debugging problems.</p>
<p>Be careful when relying on the seed to get random but repeatable results. There are at least two common ways for things to get messed up.</p>
<ul>
<li>
<p>First, if your program accepts user input, and that input can influence how many times <code>random()</code> is called, your program can get off sequence.</p>
</li>
<li>
<p>Second, if you change your program and add or remove a call to <code>random()</code>, you will alter the sequence.</p>
</li>
</ul>
<div id="" class="callout">
<p>Javascript does not provide any way for you to set the seed used by <code>Math.random()</code>, so if you need to set the seed and are not using p5, you’ll need to find and use another Javascript library for generating random numbers.</p>
</div>
<div id="" class="activity">
<h2 id="pencil-paper-lcg">Pencil + Paper LCG</h2>
<p>Explore how an LCG works by generating pseudorandom values by hand.</p>
<p>[[ link to worksheet ]]</p>
</div>
<h2 id="study-examples">Study Examples</h2>
<h3 id="skyline">Skyline</h3>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/skyline.js">
</iframe>
</div>
</div>
<h3 id="small-multiples">Small Multiples</h3>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/small_mult.js">
</iframe>
</div>
</div>
<h3 id="grass">Grass</h3>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/grass.js">
</iframe>
</div>
</div>
<h3 id="brownian-motion">Brownian Motion</h3>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/brownian.js">
</iframe>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Brownian_motion">Wikipedia: Brownian Motion</a></p>
<h3 id="horizon">Horizon</h3>
<div id="" class="">
<div class="js-lab">
<iframe class="js-lab" src="/js_lab/js_lab.html?/comp_form/random/sketches/horizon.js">
</iframe>
</div>
</div>
<p>[[ workshop skipped here, should be its own page on setting up p5 ]]</p>
<div id="" class="assignment">
<h2 id="sketch">Sketch!</h2>
<h3 id="base">Base</h3>
<p>Experiment with procedurally generating images using <code>random()</code>. Explore each of the tactics discussed above. Post your results to the Sketchblog.</p>
<h3 id="challenge-master-study">Challenge: Master Study</h3>
<p>Kasimir Malevich, Mark Rothko, Piet Modrian, Anni Albers all worked with basic shapes, color, and natural media. Create a sketch that generates new works in the style of one of these artists. Pay particular attention to the subtleties and textures of your chosen artist’s work. How closely can you recreate these subtleties?</p>
</div>
<p>[[ review questions ]]</p>
<h2 id="reference-links">Reference Links</h2>
<dl>
<dt><a href="http://sunsite.univie.ac.at/Mozart/dice/">Mozart’s Musikalisches Würfelspiel</a></dt>
<dd>Essay on Mozart’s 1787 musical dice game. This webpage is from 1995!</dd>
<dt><a href="https://en.wikipedia.org/wiki/Musikalisches_W%C3%BCrfelspiel">Wikipedia: Musikalisches Würfelspiel</a></dt>
<dd>More info on musical dice games.</dd>
</dl>
</div></div></div><div class="container" id="scroll-out"></div></div></body></html>